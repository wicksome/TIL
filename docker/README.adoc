= Docker

* 애플리케이션의 실행에 필요한 환경을 하나의 이미지로 모아두고, 그 이미지를 사용하여 다양한 환경에서 애플리케이션 실행 환경을 구축 및 운용하기위한 오픈소스 플랫폼
* 인프라 환경을 컨테이너로 관리

애플리케이션의 이식성(portability)::
한 번 만들면 어디서든지 움직이는 소프트웨어의 특성을 portability 라고 한다. Docker 컨테이너의 바탕이 되는 Docker 이미지만 있으면 애플리케이션을 동일한 환경에서 가동시킬 수 있습니다.

== 기능

- Docker 이미지를 만드는 기능(Build)
- Docker 이미지를 공유하는 기능(Ship)
- Docker 컨테이너를 작동시키는 기능(Run)

=== Build

* 하나의 이미지에는 하나의 애플리케이션만 넣어 두고, 여러 개의 컨테이너를 조합하여 서비스를 구축하는 방법 권장
* Docker 이미지는 애플리케이션의 실행에 필요한 파일들이 저장된 디렉토리
* Docker 명령을 사용하면 이미지를 tar 파일로 출력 가능
* Dockerfile로 이미지 생성 가능
* CI/CD 관점에서 IaC 관리를 생각하면 Dockerfile을 사용하여 관리하는 것이 바람직하다고 할 수 있음
* 이미지는 겹쳐서 사용 가능. 변경이 되는 부분을 이미지 레이어로 관리

=== Ship

* Docker 레지스트리에 공유 가능

Docker 이미지의 변조 방지 및 취약성 검사 기능::
Docker Container Trust는 Docker 이미지의 제공자를 검증할 수 있는 기능이다. 
이미지의 제공자는 Docker 레지스트리에 이미지를 송신하기 전에 로컬 환경에서 비밀키를 사용하여 이미지에 서명을 한다.
그 후 그 이미지를 이용할 때 이미지 제공자의 공개키를 사용하여 실행하려고 하는 이미지를 확인한다.

=== Run

* Docker는 Linux 상에서 컨테이너 단위로 서버 기능을 작동
* 이미 움직이는 OS 상에서 프로세스를 실행시키는 것과 거의 똑같은 속도로 컨테이너 실행 가능
* Docker는 하나의 Linux 커널을 여러 컨테이너에서 공유. Linux 커널 기능(namespace, cgroups) 기술 사용

== Docker 컴포넌트

* Docker Engine
+
이미지를 생성하고 컨테이너를 가동시키기 위한 Docekr의 핵심 기능.
* Docker Registry
+
이미지 공개 및 공유
* Docker Compose
+
여러 개의 컨테이너 구성 정보를 코드로 정의하고, 명령을 실행함으로써 컨테이너들을 일원 관리하기 위한 툴
* Docker Machine
+
로컬 호스트용인 VirtualBox를 비롯하여 AWS EC2, Azure 와 같은 클라우드 환경에 Docker의 실행 환경을 자동으로 생성하기 위한 툴
* Docker Swarm
+
Docker 호스트를 클러스터화하기 위한 툴.

== Docker 작동 구조

=== 컨테이너를 구획화하는 장치, namespace

Linux의 오브젝트에 이름을 붙임으로써 6개의 독립된 환경 구축

. PID namespace
. Network namespace
. UID namespace
. MOUNT namespace
. UTS namespace
+
독자적으로 호스트명이나 도메인명을 가질 수 있음
. IPC namespace
** 프로세스 간의 통신(IPC) 오브젝트를 독립적으로 가질 수 있도록 함
** IPC란 System C 프로세스 간의 통신 오브젝트라고 하는 공유 메모리나 세마포어/메시지큐를 말함

=== 릴리스 관리 장치, cgroups
=== 네트워크 구성(가상 브리지/가상 NIC)
=== Docker 이미지의 데이터 관리 장치
