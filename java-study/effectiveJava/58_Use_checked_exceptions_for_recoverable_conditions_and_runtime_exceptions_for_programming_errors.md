# 복구 가능 상태에는 점검지정 예외를 사용하고, 프로그래밍 오류에는 실행시점 예외를 이용하라

**핵심**

>  복구 가능한 상태에는 점검지정 예외를 사용하고, 프로그래밍 오류를 나타내고 싶을 때는 실행지점 예외를 사용하라.
>
>  잘 모르겠다면 무점검 예외를 이용하는 편이 나을 것이다(규칙 59).

**Java는 세 가지 종류의 throwable을 제공한다.**

> 점검지정 예외(checked exception), 실행시점 예외(runtime exception), 오류(error)

무엇을 사용해야 하는지 딱 떨어지는 기준이 있는 것은 아니지만, 훌륭한 지침으로 삼을 만한 일반 규칙이 있다.

**호출자(caller) 측에서 복구할 것으로 여겨지는 상황에 대해서는 점검지정 예외를 이용해야 한다.**

- 점검지정 예외를 사용할 것인지 무점검 예외(unchecked exception)를 사용할 것인지에 대한 가장 기본적인 규칙

- 메서드에 선언된 점검지정 예외는 메서드를 호출하면 해당 예외와 관련된 상황이 발생할 수 있음을 API 사용자에게 알리는 구실을 한다.

  API 사용자에게 검점지정 예외를 준다는 것은, 그 상태를 복구할 권한을 준다는 뜻.
  사용자는 그 권한을 무시할 수 있지만 일반적으로 그렇게 하면 곤란하다(규칙 65, 예외를 무시하지 마라).

- 점검지정 예외는 일반적으로 복구 가능한 상태를 나타내기 때문에, 호출자 측에서 상태를 복구하는 데 이용할 정보를 제공하는 메서드를 갖춰놓는 것이 아주 중요하다.

**프로그래밍 오류를 표현할 때는 실행시점 예외를 사용하라.**

- 대부분의 런타임 예외는 선행조건 위반(precondition violation)을 나타낸다.

  클라이언트가 API 명세에 기술된 규악을 지키지 않았다는 뜻. (ArrayIndexOutOfBoundsException)

**사용자 정의 무점검 throwable은 RuntimeException의 하위 클래스로 만들어야 한다.**

- 자바 언어 명세에 강제된 사항은 아니지만, 보통 오류(error)는 JVM이 자원 부족이나 불변식 위한 등, 더 이상 프로그램을 실행할 수 없는 상태에 도달했음을 알리기 위해 사용.

  이 관습은 거의 보편적으로 받아들여지고 있어서, Error의 하위 클래스는 새로 만들지 않는 것이 최선이다.

- 예외를 만들 경우, 예외 정보 문자열을 파싱하는 것은 위험한 방법이다(규칙 10). 객체가 어떤 형식의 문자열로 변환되는지 상세히 명시하는 클래스는 별로 없다. 따라서 문자열 변환 결과는 구현마다, 그리고 릴리스마다 달라질 수 있기 때문에 *예외를 문자열로 나타낸 결과를 파싱하는 코드는 이식성도 없고 깨지기도 쉽다.*

