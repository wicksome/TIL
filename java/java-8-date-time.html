<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.25">
<meta name="author" content="Yeongjun.kim">
<title>날짜와 시간 API with Java8</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock pre>code{display:block}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>날짜와 시간 API with Java8</h1>
<div class="details">
<span id="author" class="author">Yeongjun.kim</span><br>
<span id="email" class="email"><a href="mailto:opid911@gmail.com">opid911@gmail.com</a></span><br>
<span id="revdate">2018-02-21T17:50:00+09:00</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_타임존">타임존</a></li>
<li><a href="#_날짜_시간_다루기">날짜, 시간 다루기</a>
<ul class="sectlevel2">
<li><a href="#_instant"><code>Instant</code></a></li>
<li><a href="#_localdate"><code>LocalDate</code></a></li>
<li><a href="#_localdatetime"><code>LocalDateTime</code></a></li>
<li><a href="#_zoneddatetime"><code>ZonedDateTime</code></a></li>
<li><a href="#_temporaladjuster"><code>TemporalAdjuster</code></a></li>
<li><a href="#_temporaladjusters"><code>TemporalAdjusters</code></a></li>
<li><a href="#_datetimeformatter"><code>DateTimeFormatter</code></a></li>
</ul>
</li>
<li><a href="#_레거시_전환하기">레거시 전환하기</a>
<ul class="sectlevel2">
<li><a href="#date-to-java8-datetime"><code>Date</code></a></li>
<li><a href="#_calendar"><code>Calendar</code></a></li>
<li><a href="#_timestamp"><code>Timestamp</code></a></li>
<li><a href="#_simpledateformat"><code>SimpleDateFormat</code></a></li>
</ul>
</li>
<li><a href="#_실용_예제">실용 예제</a>
<ul class="sectlevel2">
<li><a href="#get-yesterday-start">어제 00:00:00 구하기</a></li>
<li><a href="#get-yesterday-last">어제 23:59:59 구하기</a></li>
<li><a href="#_1주일_이후_시간_구하기">1주일 이후 시간 구하기</a></li>
<li><a href="#_타임존과_오프셋_커스텀하게_출력하기">타임존과 오프셋 커스텀하게 출력하기</a></li>
<li><a href="#add-timezone-to-localdatetime">LocalDateTime에 ZoneId 설정하기</a></li>
<li><a href="#convert-datetime-with-timezone">다른 시간대의 시간으로 변경하기</a></li>
<li><a href="#change-timezone">시간은 그대로 두고 시간대만 변경하기</a></li>
</ul>
</li>
<li><a href="#_더_알아볼_것">더 알아볼 것</a></li>
<li><a href="#_타임존_db_업데이트하기">타임존 DB 업데이트하기</a></li>
<li><a href="#_추가_정보">추가 정보</a>
<ul class="sectlevel2">
<li><a href="#_zoneddatetime_비교">ZonedDateTime 비교</a></li>
<li><a href="#_europeistanbul_타임존"><code>Europe/Istanbul</code> 타임존</a></li>
<li><a href="#_timestamp_2">Timestamp</a></li>
<li><a href="#_unix_time">Unix time</a></li>
<li><a href="#_kotlin">Kotlin</a></li>
<li><a href="#_etc">ETC</a></li>
</ul>
</li>
<li><a href="#_references">References</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>글로벌 서비스를 한다면 타임존에 대한 이해는 필수이다. 사용자가 어떤 기준으로 시간을 보는지 항상 고려해야한다.
한번 고민 해보고 나면 크게 어려운 개념도 아니고 복잡한 계산도 아니지만, 이 업무를 처음 맡았을 때는 꽤나 고생했다.
시간에 대해서 고민해 본 적이 없던 것도 있었지만, 기존의 코드들이 특정 시간대를 기준으로만 개발되었거나(보통 개발자의 서버 시간을 기준으로 작성되었고, 요구사항이 없으므로 시간대를 고려하지 않은 상태이다), 문자열을 그대로 파싱하도록 작성되어 있었기 때문에 손 볼 곳이 많았다.</p>
</div>
<div class="paragraph">
<p>JDK8에서는 시간, 날짜 관련해서 유용한 API(<code>java.time</code> 패키지)를 제공한다. 훨씬 이해하기 쉽고 유용하다. 앞으로는 문자열을 파싱하고 직접 시간을 계산하지말고 이 API을 사용해보자.
(직접 구현한 코드들에는 시간 계산에 관한 버그도 많고 잘 보이지도 않는다)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Java8 이전에도 <code>Date</code>, <code>Calendar</code> 그리고 <code>Timestamp</code> 클래스 등 날짜와 시간을 다루는 API는 존재했다.
하지만 여러 문제점을 가지고 있으므로(<a href="https://d2.naver.com/helloworld/645609">Java의 날짜와 시간 API</a> 참고) Java8에 추가된 API를 사용하기를 권장하고, 어떠한 문제점이 있는지 알아두면 좋을 것 같다.</p>
</div>
<div class="ulist">
<div class="title">간략하게 정리한 JDK의 기본 날짜 클래스의 문제점</div>
<ul>
<li>
<p>불변객체가 아니여서 side-effect에 안전하지 않다.</p>
</li>
<li>
<p>int 상수 필드가 많아서 잘못 입력하더라도 컴파일 시점에 오류를 확인할 수 없다.</p>
</li>
<li>
<p>JDK 1.0 Date 클래스에서 1월을 0으로 표현하면서 누구나 크리티컬할 수 있는 실수를 반복한다.</p>
</li>
<li>
<p>Date와 Calendar의 역할 분담이 다소 명확하지 않다.</p>
</li>
<li>
<p>잘못 시간대를 지정해도 오류를 발견하기 어렵다.</p>
</li>
<li>
<p>Date를 상속한 하위 클래스들에도 문제가 많다.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>이 포스트에서 설명하는 대부분의 날짜, 시간 관련 API는 <a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html">java.time</a> 패키지 하위에 있다.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="http://www.falkhausen.de/Java-8/java.time/Temporal-Hierarchy.png" alt="Temporal Hierarchy"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_타임존">타임존</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Time-Zone(타임존)은 여러 가지 다른 것을 설명하는 데 사용할 수 있지만 대개 지역 또는 국가의 현지 시간을 나타내며, 주로 해당 국가에 의해 법적으로 지정된다.
<strong>GMT</strong> 와 <strong>UTC</strong> 는 같은 시간을 가르키면서 혼용되어 사용되지만, 엄밀히 구분하자면 다른 의미이다(<a href="https://ko.wikipedia.org/wiki/%ED%98%91%EC%A0%95_%EC%84%B8%EA%B3%84%EC%8B%9C">완전히 동일하진 않고 초의 소숫점 단위에서 차이가 난다</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>"GMT is a <strong>time zone</strong> and UTC is a <strong>time standard</strong>."</p>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://www.timeanddate.com/time/gmt-utc-time.html">The Difference Between GMT and UTC</a>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">GMT(Greenwich Mean Time)</dt>
<dd>
<p>GMT는 경도 0도에 위치한 영국 런던 그리니치에 있는 왕립 천문대의 시간으로, 모든 시간대의 시작점을 나타내며, 일년내내 DST의 영향을 받지 않는다.
GMT는 1925년 2월 5일부터 사용하기 시작했으며, 1972년 1월 1일까지 세계 표준시로 사용되었다.</p>
</dd>
<dt class="hdlist1">UTC(협정 세계시, 協定世界時)</dt>
<dd>
<p>UTC는 국제 표준시를 뜻하며 타임존은 아니다. 즉, 공식적으로 UTC를 현지 시간으로 사용하는 국가나 지역은 없다.
협정 세계시를 영어권에서는 Coordinated Universal Time<sup>CUT</sup>라고, 프랑스어권에서는 Temps Universel Coordonné<sup>TUC</sup>라고 하는데, 혼돈을 방지하기 위해서 공식적으로 UTC라고 정해졌다.</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>위에 말한 듯이 타임존은 정부에 의해 변경되는 경우가 종종 있다. 하지만 Java는 타임존 변경이 일어났더라도 따로 JDK 버전업 필요 없이 독립적으로 타임존 데이터베이스(<a href="https://www.iana.org/time-zones">IANA 데이터베이스</a>)를 업데이트한다. 즉, 하드코딩으로 관리하지 않아도 된다.</p>
</div>
<div class="paragraph">
<p>Java 8에서는 타임존을 고려한 날짜와 시간까지도 더 명확하고 편리하게 사용할 수 있다. 타임존은 <code>ZoneId</code> 클래스를 통해 날짜/시간별 <strong>DST</strong> 이 반영되었는지 확인 할 수도 있다. <code>ZoneId.getAvailableZoneIds()</code> 를 통해 지원하는 지역별 타임존을 확인할 수 있다(현재 시점 등록된 ZoneId는 600개이다).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">DST(Daylight Saving time)</div>
<div class="paragraph">
<p>DST은 자연 일광을 보다 잘 활용하기 위해서 여름철에 표준 시간에서 1시간 앞으로, 그리고 다시 가을에 시간을 1시간 전으로 설정하는
것을 말한다. DST와 "summer time"은 같은 말을 뜻하며 특정 나라에서 주로 불린다. 영국에서 썸머타임이라고 많이 사용하며, DST가 적용되지 않는 표준시는
"winter time"이라고 사용되기도 한다. DST를 독일에서는 "sommerzeit", 스칸디나비아에서는 "sommertid"라고도 사용한다.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Java8에서 개선된 날짜, 시간 관련 API</caption>
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">클래스 혹은 인터페이스</th>
<th class="tableblock halign-left valign-top">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html"><em>java.time 패키지</em></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>Clock</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">타임존을 사용한 현재 순간, 날짜 및 시간에 접근할 수 있는 클래스</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>Duration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34.5초와 같이 시간 기반의 시간(amount of time)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>Instant</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">타임라인의 순간을 나타내는 클래스</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>LocalDate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 타임존이 없는 날짜(예: <code>2020-01-21</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>LocalDateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 타임존이 없는 날짜와 시간(예: <code>2020-01-21 00:25:00</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>LocalTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 시간대가 없는 시간(예: <code>12:35:30</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>MonthDay</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템의 월별 일(예: <code>--01-21</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>OffsetDateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 UTC로부터 offset이 포함된 날짜와 시간(예: <code>2020-01-21T00:47:00+09:00</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>OffsetTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 UTC로부터 offset이 포함된 시간(예: <code>00:47:00+09:00</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>Period</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템의 날짜 기반의 시간(예: <code>2년 3개월 4일</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>Year</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 연도년(예: <code>2020</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>YearMonth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 연(year)과 월(month)(예: <code>2020-01</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>ZonedDateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601 캘린더 시스템에서 Asia//Seoul 같은 타임존이 포함된 날짜와 시간(예: <code>2020-01-21T00:53:30+09:00 Asia/Seoul</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>ZoneId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Asia/Seoul</code> 과 같은 타임존 ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>ZoneOffset</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GMT/UTC로부터 타임존 오프셋(예: <code>+09:00</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>DayOfWeek</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">요일을 나타내는 열거타입</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>Month</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">월을 나타내는 열거타입</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html"><em>java.time.temporal 패키지</em></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>TemporalAdjuster</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Temporal</code> 객체들을 조절하기 위한 함수형 인터페이스</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>ChronoUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">날짜/시간의 period를 나타내는 표준 셋을 가진 열거타입</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/package-summary.html"><em>java.time.format 패키지</em></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#160;&#160;&#160;&#160; <code>DateTimeFormatter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date-time 객체를 파싱하거나 출력하기 위한 포맷터 (thread-safe)</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">ISO 8601</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong><a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO 8601</a> Data elements and interchange formats - Information interchange - Representation of dates and times은 날짜와 시간과 관련된 데이터 교환을 다루는 국제 표준이다.</strong>
이 표준은 국제 표준화 기구(ISO)에 의해 공포되었으며 1988년에 처음으로 공개되었다. 이 표준의 목적은 날짜와 시간을 표현함에 있어 명백하고 잘 정의된 방법을 제공함으로써,
날짜와 시간의 숫자 표현에 대한 오해를 줄이고자함에 있는데, 숫자로 된 날짜와 시간 작성에 있어 다른 관례를 가진 나라들간의 데이터가 오갈때 특히 그렇다.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://ko.wikipedia.org/wiki/ISO_8601">ISO 8601 - 위키피디아</a>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">TimeZone ID</div>
<div class="paragraph">
<p><code>ZoneId.of(zoneId)</code> 에 사용되는 파라미터인 Time-zone ID는 3가지 타입을 지원한다. (<a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html">참고</a>)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>(Simplest type) 'Z' 혹은 '+', '-'로 시작하는 offset. (ex. <code>+02:00</code>, <code>-12:00</code>, <code>Z</code>)</p>
</li>
<li>
<p>(Offset-style ID) 접두사('UTC', 'GMT', 'UT')가 포함된 offset-style ID. (ex. <code>UTC+01:00</code>, <code>GMT+2</code>)</p>
</li>
<li>
<p>(Region-based ID) <a href="https://docs.oracle.com/javase/8/docs/api/java/time/zone/ZoneRulesProvider.html">ZoneRulesProvider</a>에 의해 정의된 설정으로 동작하는 ID.</p>
<div class="ulist">
<ul>
<li>
<p>JVM에는 기본으로 IANA Time Zone Database (TZDB)에 정의된 시간대에 대한 영역 규칙을 제공하는 공급자가 있다.</p>
<div class="paragraph">
<p>(다른 조직으로는 IATA, Microsoft가 있다.)</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><a href="https://www.iana.org/time-zones"><strong>The IANA/Olson Time Zone Database</strong></a></p>
</div>
<div class="paragraph">
<p>Also known as ZoneInfo, TZDB or the TZ database</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Example Identifier: <code>"America/New_York"</code></p>
</li>
</ul>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://stackoverflow.com/tags/timezone/info">timezone tag - stackoverflow</a>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The naming conventions attempt to strike a balance among the following goals:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Uniquely identify every timezone where clocks have agreed since 1970. This is essential for the intended use: static clocks keeping local civil time.</p>
</li>
<li>
<p>Indicate to experts where the timezone&#8217;s clocks typically are.</p>
</li>
<li>
<p>Be robust in the presence of political changes. For example, names are typically not tied to countries, to avoid incompatibilities when countries change their name (e.g., Swaziland→Eswatini) or when locations change countries (e.g., Hong Kong from UK colony to China). There is no requirement that every country or national capital must have a timezone name.</p>
</li>
<li>
<p>Be portable to a wide variety of implementations.</p>
</li>
<li>
<p>Use a consistent naming conventions over the entire world.</p>
</li>
</ul>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://data.iana.org/time-zones/theory.html#naming">Theory and progmatics of the <code>tz</code> code and data - IANA</a>
</div>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Note</strong>: This document does not define a naming convention for time zone identifiers.  Implementers may want to use the naming conventions defined in existing time zone specifications such as the public-domain TZ database [TZDB].  The specification of globally unique time zone identifiers is not addressed by this document and is left for future study.</p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p><strong>[TZDB]</strong> Eggert, P. and A.D. Olson, "Sources for Time Zone and Daylight Saving Time Data", July 2009, <a href="http://www.twinsun.com/tz/tz-link.htm" class="bare">http://www.twinsun.com/tz/tz-link.htm</a>.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://www.rfc-editor.org/rfc/rfc5545#section-3.2.19">Time Zone Identifier - RFC5545</a>
</div>
</div>
<div class="ulist">
<div class="title">참고</div>
<ul>
<li>
<p><a href="https://stackoverflow.com/questions/53545867/what-is-meaning-of-timezone-id-of-google-timezone-api" class="bare">https://stackoverflow.com/questions/53545867/what-is-meaning-of-timezone-id-of-google-timezone-api</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_날짜_시간_다루기">날짜, 시간 다루기</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_instant"><code>Instant</code></h3>
<div class="paragraph">
<p>타임라인의 특정 순간을 나타내는 클래스로, <code>TimeStamp</code> 와 달리 Immutable 하고 thread-safe하다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import static java.time.temporal.ChronoUnit.*;

Instant today = Instant.now();
Instant yesterday = today.minus(1, DAYS);
Instant tomorrow = today.plus(1, DAYS);
Instant midnight = Instant.now().truncatedTo(DAYS);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_localdate"><code>LocalDate</code></h3>
<div class="paragraph">
<p>ISO-8601에서 타임존이 없는 날짜(예: <code>2020-01-21</code>)를 나타낸다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LocalDate today = LocalDate.now();
LocalDate yesterday = today.minusDays(1);
LocalDate tomorrow = today.plusDays(1);

today.isBefore(tomorrow); // true
today.isAfter(yesterday); // true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_localdatetime"><code>LocalDateTime</code></h3>
<div class="paragraph">
<p>ISO-8601에서 타임존이 없는 날짜와 시간(예: <code>2020-01-21 00:25:00</code>)을 나타낸다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LocalDateTime now = LocalDateTime.ofInstant(Instant.now(), ZoneId.systemDefault());
LocalDateTime today = LocalDateTime.now();
LocalDateTime lastWeek = today.minusWeeks(1);
LocalDateTime nextWeek = today.plusWeeks(1);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_zoneddatetime"><code>ZonedDateTime</code></h3>
<div class="paragraph">
<p>ISO-8601에서 <code>Asia/Seoul</code> 같은 타임존이 포함된 날짜와 시간(예: <code>2020-01-21T00:53:30+09:00 Asia/Seoul</code>)을 나타낸다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ZonedDateTime now = ZonedDateTime.ofInstant(Instant.now(), ZoneId.systemDefault());
ZonedDateTime midnight = ZonedDateTime.of(LocalDate.now(), LocalTime.MIDNIGHT, ZoneId.systemDefault());
ZonedDateTime zdt = ZonedDateTime.parse("2020-01-21T00:42:00+09:00", DateTimeFormatter.ISO_OFFSET_DATE_TIME);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_temporaladjuster"><code>TemporalAdjuster</code></h3>
<div class="paragraph">
<p>시간과 관련된 객체(<code>Temporal</code> 을 구현하고 있는 클래스)를 조절하기 위한 전략을 나타내는 함수형 인터페이스다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import static java.time.temporal.ChronoUnit.*;

TemporalAdjuster addOneWeek = temporal -&gt; temporal.plus(7, DAYS);
ZonedDateTime nextWeek = ZonedDateTime.now().with(addOneWeek);</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Temporal</code> 인터페이스를 구현한 객체에는 <code>with(TemporalAdjuster)</code> 메서드를 모두 가지고 있으며, 이 메서드를 통해 시간을 조절한다.
시간 조절하는 방법에는 두 가지가 있는데, javadoc에서는 <code>Temporal.with(TemporalAdjuster)</code> 사용을 권장한다.</p>
</div>
</div>
<div class="sect2">
<h3 id="_temporaladjusters"><code>TemporalAdjusters</code></h3>
<div class="paragraph">
<p>시간과 날짜 조절에 자주 사용될 것 같은 전략들(<code>TemporalAdjuster</code> 인터페이스 구현체)을 모아 놓은 유틸성 클래스이다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LocalDate today = LocalDate.now();

today.with(TemporalAdjusters.firstDayOfYear());                      // 올해 1일
today.with(TemporalAdjusters.firstDayOfNextYear());                  // 내년 1일
today.with(TemporalAdjusters.firstDayOfMonth());                     // 이번달 1일
today.with(TemporalAdjusters.firstDayOfNextMonth());                 // 다음달 1일
today.with(TemporalAdjusters.firstInMonth(DayOfWeek.SUNDAY));        // 이번달 첫 번째 일요일
today.with(TemporalAdjusters.lastDayOfYear());                       // 올해 마지막날
today.with(TemporalAdjusters.lastDayOfMonth());                      // 이번달 마지막날
today.with(TemporalAdjusters.lastInMonth(DayOfWeek.SUNDAY));         // 이번달 마지막 일요일
today.with(TemporalAdjusters.next(DayOfWeek.MONDAY));                // 다음 월요일
today.with(TemporalAdjusters.nextOrSame(DayOfWeek.MONDAY));          // 다음 월요일(당일 포함)
today.with(TemporalAdjusters.previous(DayOfWeek.MONDAY));            // 지난 월요일
today.with(TemporalAdjusters.previousOrSame(DayOfWeek.MONDAY));      // 지난 월요일(당일 포함)
today.with(TemporalAdjusters.dayOfWeekInMonth(2, DayOfWeek.SUNDAY)); // 이번달 2번째 일요일
today.with(TemporalAdjusters.ofDateAdjuster(date -&gt; date.minusMonths(2))); // 커스터마이징</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_datetimeformatter"><code>DateTimeFormatter</code></h3>
<div class="paragraph">
<p>날짜/시간 객체를 파싱하거나 출력하기 위한 포맷터이다. 이 객체는 immutable 하고 thread-safe 하다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LocalDate date = LocalDate.now();
String text = date.format(formatter);
LocalDate parsedDate = LocalDate.parse(text, formatter);</code></pre>
</div>
</div>
<div class="paragraph">
<p>이 클래스는 <code>DateTimeFormatter</code> 를 구현한 주요 포맷터를 제공하며, 좀 더 복잡한 포맷터는 <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html">DateTimeFormatterBuilder</a>를 통해 구현할 수 있다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LocalDate.now().format(DateTimeFormatter.ofPattern("yyyy-MM-dd")); // 2020-01-28
LocalDate.now().format(DateTimeFormatter.ofPattern("yyyy MM dd HH:mm:ss")); // <b class="conum">(1)</b>
LocalDateTime.now().format(DateTimeFormatter.ISO_DATE_TIME);        // 2020-01-28T17:38:36.856
ZonedDateTime.now().format(DateTimeFormatter.ISO_DATE_TIME);        // 2020-01-28T17:41:12.319+09:00[Asia/Seoul]
ZonedDateTime.now().format(DateTimeFormatter.ISO_ZONED_DATE_TIME);  // 2020-01-28T17:41:12.319+09:00[Asia/Seoul]
ZonedDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE);      // 2020-01-28+09:00
ZonedDateTime.now().format(DateTimeFormatter.ISO_OFFSET_TIME);      // 17:41:12.32+09:00
ZonedDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE_TIME); // 2020-01-28T17:41:12.32+09:00</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>표현할 수 없으므로 <em>java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: HourOfDay</em> 예외 발생</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_레거시_전환하기">레거시 전환하기</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="date-to-java8-datetime"><code>Date</code></h3>
<div class="listingblock">
<div class="title"><code>Date</code> &#8594; <code>Instant</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Date date = new Date();

Instant now = date.toInstant();

// sql package
Instant.ofEpochMilli(rs.getTimestamp("date_column").getTime())
    .atZone(timeZone)
    .toLocalDateTime()</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Date</code> &#8594; <code>LocalDate</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Date date = new Date();

LocalDate ld1 = date.toInstant()
  .atZone(ZoneId.systemDefault())
  .toLocalDate();

LocalDate ld2 = Instant.ofEpochMilli(date.getTime())
  .atZone(ZoneId.systemDefault())
  .toLocalDate();

LocalDate ld3 = new java.sql.Date(date.getTime()).toLocalDate();

// LocalDate to Date
date = java.sql.Date.valueOf(LocalDate.now());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Date</code> &#8594; <code>LocalDateTime</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Date date = new Date();

LocalDate ldt1 = date.toInstant()
  .atZone(ZoneId.systemDefault())
  .toLocalDate();

LocalDate ldt2 = Instant.ofEpochMilli(date.getTime())
  .atZone(ZoneId.systemDefault())
  .toLocalDateTime();

LocalDate ldt3 = new java.sql.Date(date.getTime()).toLocalDateTime();</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Date</code> &#8594; <code>ZonedDateTime</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Date date = new Date();

ZonedDateTime zdt = date.toInstant()
   .atZone(ZoneId.systemDefault());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>Date</code> &#8594; <code>String</code></div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Date date = new Date();

String yyyyMMdd = now.toInstant()
    .atZone(ZoneId.systemDefault())
    .format(DateTimeFormatter.ofPattern("yyyy-MM-dd")));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_calendar"><code>Calendar</code></h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final Calendar cal = Calendar.getInstance();
final TimeZone timeZone = Optional.ofNullable(cal.getTimeZone()).orElse(TimeZone.getDefault());

// LocalDate
LocalDate localDate = LocalDateTime.ofInstant(cal.toInstant(), timeZone.toZoneId()).toLocalDate();

// LocalDateTime
LocalDateTime localDateTime = LocalDateTime.ofInstant(cal.toInstant(), timeZone.toZoneId());

// ZonedDateTime
ZonedDateTime zonedDateTime = ZonedDateTime.ofInstant(cal.toInstant(), timeZone.toZoneId());</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_timestamp"><code>Timestamp</code></h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import java.sql.Timestamp;

Timestamp ts = Timestamp.from(Instant.now());
Instant now = ts.toInstant();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_simpledateformat"><code>SimpleDateFormat</code></h3>
<div class="paragraph">
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns"><em>DateTimeFormatter</em></a> 와 <a href="https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html"><em>SimpleDateFormat</em></a> 의 패턴이 완전히 동일하지 않으므로 리팩토링시 문서를 꼭 참고해야 한다.</p>
</div>
<div class="paragraph">
<p>기존에 제공하던 <code>SimpleDateFormat</code>, <code>DateFormat</code> 은 thread-safe 하지 않으므로, 상수로 선언하여 사용할 땐 <code>DateTimeFormatter</code> 을 사용해야 한다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy-MM-dd");
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd");

System.out.println(simpleDateFormat.format(new Date()));
System.out.println(LocalDate.now().format(formatter));</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_실용_예제">실용 예제</h2>
<div class="sectionbody">
<div class="paragraph">
<p>아래 예제들은 실제 개발하면서 작성한 코드들이다. 앞으로도 시간 관련된 코드를 작성할 때 이곳에 추가하고 수정해나갈 예정이다.</p>
</div>
<div class="sect2">
<h3 id="get-yesterday-start">어제 00:00:00 구하기</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LocalDateTime dateTime1 = LocalDate.now()
    .atTime(LocalTime.MIN)
    .minus(1, ChronoUnit.DAYS);

LocalDateTime dateTime2 = LocalDate.now()
    .atStartOfDay()
    .minus(1, ChronoUnit.DAYS);

LocalDateTime dateTime3 = LocalDateTime.now()
    .truncatedTo(ChronoUnit.DAYS)
    .minus(1, ChronoUnit.DAYS);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ZonedDateTime zonedDateTime = LocalDate.now()
    .minus(1, ChronoUnit.DAYS)
    .atStartOfDay(ZoneId.of("Asia/Seoul"));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get-yesterday-last">어제 23:59:59 구하기</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final String actual = LocalDateTime.now()
    .minus(1, DAYS)
    .truncatedTo(DAYS)
    .format(DateTimeFormatter.ofPattern("yyyyMMddHHmmss"));
// 20191204235959</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_1주일_이후_시간_구하기">1주일 이후 시간 구하기</h3>
<div class="paragraph">
<p>예를 들어, Santiago에서 2018년 5월 10일 10시 기준으로 7주일 이후에 회의를 잡으려고 한다. 이 경우에는 <code>Period.ofDays(int)</code> 을 사용한다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// santiago 2018/05/13 00:00:00 이후로 DST 적용
final ZonedDateTime now = ZonedDateTime.of(2018, 5, 10, 10, 0, 0, 0, ZoneId.of("America/Santiago"));
final ZonedDateTime nextMeeting = now.plus(Period.ofDays(7));

System.out.println(now);
System.out.println(nextMeeting);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>2018-05-10T10:00-03:00[America/Santiago]
2018-05-17T10:00-04:00[America/Santiago]</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>만약 <code>Duration</code> 을 사용했다면 Santiago의 DST가 적용되지 않아 잘못된 시간에 회의를 예약하게 된다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final ZonedDateTime nextMeeting = now.plus(Duration.ofDays(7));
System.out.println(nextMeeting);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>2018-05-17T09:00-04:00[America/Santiago]</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_타임존과_오프셋_커스텀하게_출력하기">타임존과 오프셋 커스텀하게 출력하기</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>GMT-04:00 Santiago
GMT+09:00 Seoul
GMT+10:00 Sydney</code></pre>
</div>
</div>
<div class="paragraph">
<p>위와 같이 출력하고자 할 경우 아래와 같다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// 현재 시간 기준(2018/03/21)
final List&lt;ZoneId&gt; timeZones = new ArrayList&lt;&gt;();
timeZones.add(ZoneId.of("America/Santiago"));
timeZones.add(ZoneId.of("Asia/Seoul"));
timeZones.add(ZoneId.of("Australia/Sydney"));

timeZones.forEach(zoneId -&gt; {
    final ZoneOffset offset = zoneId.getRules().getStandardOffset(Instant.now());
    System.out.println(String.format("GMT%s %s", offset.getId(), zoneId.getId().split("/")[1]));
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>위 코드에는 한 가지 이슈가 있다. 현재 시점(2018년 2월 21일)에 Santiago는 DST가 시행중으로 offset은 1시간 당긴 <code>-03:00</code> 이다. 하지만, <code>getStandardOffset()</code> 은 표준 오프셋을 가져오므로 <code>-04:00</code> 를 출력한다(Sydney도 동일하다). 아래와 같이 <code>offset</code> 을 선언하면 DST가 적용된 offset을 가져올 수 있다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final ZoneOffset offset = LocalDateTime.now().atZone(zoneId).getOffset();</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">생각해보기</div>
<div class="paragraph">
<p>이 <a href="https://www.timeanddate.com/time/gmt-utc-time.html">글</a>에서 GMT는 DST로 변하지 않는다고 말한다. 그러면 위 코드처럼 DST가 적용된 시간을 <code>GMT{offset}</code> 으로 출력해도 되는가? 여러가지 생각해봤지만 어느것이 맞는지 더 찾아봐야겠다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>각 나라의 표준시를 보여줄 것인가?</p>
</li>
<li>
<p>DST를 적용한 GMT를 보여줄 것인가?</p>
</li>
<li>
<p>DST를 적용한 UTC를 보여줄 것인가?</p>
</li>
<li>
<p>따로 DST 적용기간 아이콘을 보여줄 것인가?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>구글 캘린더에서는 <code>(GMT-03:00) 산티아고</code> 라고 DST를 적용한 GMT시간을 보여준다.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="add-timezone-to-localdatetime">LocalDateTime에 ZoneId 설정하기</h3>
<div class="paragraph">
<p>특정 지역 시간(localDateTime)에 Zone-ID를 추가하려면 아래와 같다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>localDateTime.atZone(ZoneId zoneId);
ZonedDateTime.of(LocalDateTime localDateTime, ZoneId zoneId);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">final LocalDateTime localDateTime = LocalDateTime.of(2017, Month.OCTOBER, 18, 9, 0);
final ZonedDateTime zonedDateTime1 = localDateTime.atZone(ZoneId.of("UTC"));
final ZonedDateTime zonedDateTime2 = ZonedDateTime.of(localDateTime, ZoneId.of("Asia/Seoul"));
System.out.println(zonedDateTime1);
System.out.println(zonedDateTime2);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlight"><code>2017-10-18T09:00Z[UTC]
2017-10-18T09:00+09:00[Asia/Seoul]</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">헷갈릴 수 있는 코드</div>
<div class="paragraph">
<p><code>LocalDateTime</code> 에서 <code>atZone()</code> 는 날짜/시간 값에 타임존 정보를 추가하는 것이지 타임존으로부터 시간 계산을 하는 것이 아니다.
그러므로 아래 <code>LocalDateTime</code> 인스턴스는 동일하다.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">LocalDateTime dateTime1 = localDateTime.atZone(seoul).toLocalDateTime();
LocalDateTime dateTime2 = localDateTime.atZone(utc).toLocalDateTime();

assertEquals(dateTime1, dateTime2); // true</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="convert-datetime-with-timezone">다른 시간대의 시간으로 변경하기</h3>
<div class="paragraph">
<p>LA의 오전 9시를 서울 시간으로 변경하고자 할 땐 어떻게 해야할까? 절대적인 시간을 그대로 두려는 이 경우엔 <code>zonedDateTime.withZoneSameInstant(ZoneId)</code> 를 사용한다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>도쿄 타임존으로 캘린더 일정 생성시 서울 시간으로 변경해서 표시해주고자 할 때</p>
</li>
<li>
<p>시스템 타임존을 보고 있는 사용자가 LA에서 예약 결제를 한 경우 서울에 와서 언제 결제를 처리할 것인지 확인할 때</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// given
final LocalDateTime localDateTime = LocalDateTime.of(2017, Month.OCTOBER, 18, 9, 0);

// when
final ZonedDateTime losAngeles = localDateTime.atZone(ZoneId.of("America/Los_Angeles")); // <b class="conum">(1)</b>
final ZonedDateTime seoul = losAngeles.withZoneSameInstant(ZoneId.of("Asia/Seoul")); // <b class="conum">(2)</b>

// then
assertEquals(losAngeles.toInstant(), seoul.toInstant()); // true</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>출력 결과: <em>2017-10-18T09:00-07:00[America/Los_Angeles]</em></p>
</li>
<li>
<p>출력 결과: <em>2017-10-19T01:00+09:00[Asia/Seoul]</em></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="change-timezone">시간은 그대로 두고 시간대만 변경하기</h3>
<div class="paragraph">
<p>시간대를 잘못 설정해서 변경하고자 할 땐 <code>withZoneSameLocal(ZoneId)</code> 를 사용한다. 이 메서드를 통해 변경하는 경우에는 절대적인 시간이 서로 달라진다.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>시간대를 잘못 설정해서 변경해야할 때</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// given
final LocalDateTime localDateTime = LocalDateTime.of(2017, Month.OCTOBER, 18, 9, 0);

// when
final ZonedDateTime losAngeles = localDateTime.atZone(ZoneId.of("America/Los_Angeles")); // <b class="conum">(1)</b>
final ZonedDateTime seoul = losAngeles.withZoneSameLocal(ZoneId.of("Asia/Seoul")); // <b class="conum">(2)</b>

// then
assertEquals(losAngeles.toLocalDateTime(), seoul.toLocalDateTime()); // true
assertEquals(losAngeles.toInstant(), seoul.toInstant()); // false</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>출력 결과: <em>2017-10-18T09:00-07:00[America/Los_Angeles]</em></p>
</li>
<li>
<p>출력 결과: <em>2017-10-18T09:00+09:00[Asia/Seoul]</em></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_더_알아볼_것">더 알아볼 것</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>이 섹션은 작성중인 섹션이다.</p>
</div>
<div class="ulist">
<div class="title">참고 및 확인해볼 것</div>
<ul>
<li>
<p>왜 타임존 업데이트가 되지 않았는가?</p>
</li>
<li>
<p>java 타임존을 업데이트 하는 방법 - oracle jdk, openjdk</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_타임존_db_업데이트하기">타임존 DB 업데이트하기</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>이 섹션은 작성중인 섹션이다.</p>
</div>
<div class="ulist">
<div class="title">참고 및 확인해볼 것</div>
<ul>
<li>
<p><a href="https://www.oracle.com/technetwork/java/javase/documentation/tzupdater-readme-136440.html" class="bare">https://www.oracle.com/technetwork/java/javase/documentation/tzupdater-readme-136440.html</a></p>
</li>
<li>
<p>openjdk에서는 지원하지 않는 이슈 파악하기</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_추가_정보">추가 정보</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_zoneddatetime_비교">ZonedDateTime 비교</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The comparison is based first on the instant, then on the local date-time, then on the zone ID, then on the chronology. It is “consistent with equals”, as defined by Comparable.</p>
</div>
</blockquote>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val kr = ZonedDateTime.of(
    2022, 10, 12, 18, 0, 0, 0, ZoneId.of("Asia/Seoul")
)
// 2022-10-12T18:00:00+09:00
// 2022-10-12T17:00:00+08:00
// 2022-10-12T09:00:00Z

val hk = ZonedDateTime.of(
    2022, 10, 12, 17, 0, 0, 0, ZoneId.of("Asia/Hong_Kong")
)
// 2022-10-12T18:00:00+09:00
// 2022-10-12T17:00:00+08:00
// 2022-10-12T09:00:00Z

logger.info { hk &lt; kr } // true
logger.info { hk == kr } // false
logger.info { hk &gt; kr } // false
logger.info { hk.toInstant() &lt; kr.toInstant() } // false
logger.info { hk.toInstant() == kr.toInstant() } // true
logger.info { hk.toInstant() &gt; kr.toInstant() } // false
hk.withZoneSameInstant(ZoneId.of("Asia/Seoul")).also {
    logger.info { it &lt; kr } // false
    logger.info { it == kr } // true
    logger.info { it &gt; kr } // false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_europeistanbul_타임존"><code>Europe/Istanbul</code> 타임존</h3>
<div class="ulist">
<ul>
<li>
<p>터키는 타임존을 사용하지 않는다.</p>
<div class="ulist">
<ul>
<li>
<p>사용중인 타임존: <a href="https://www.timeanddate.com/time/zone/turkey/istanbul" class="bare">https://www.timeanddate.com/time/zone/turkey/istanbul</a></p>
</li>
<li>
<p>사용하지 않는 타임존: <a href="https://www.timeanddate.com/time/zone/turkey" class="bare">https://www.timeanddate.com/time/zone/turkey</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>Europe/Istanbul</code> 사용함</p>
</li>
<li>
<p><code>ZoneId.of("Turkey")</code> 은 Deprecated. <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">wiki</a></p>
</li>
<li>
<p>Tzdata 버전은 tzdata2016g이 반영되야함. <a href="https://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html">오라클 문서</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/questions/40400793/java-timezone-in-turkey-rejected-daylight-saving" class="bare">https://stackoverflow.com/questions/40400793/java-timezone-in-turkey-rejected-daylight-saving</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_timestamp_2">Timestamp</h3>
<div class="ulist">
<ul>
<li>
<p>사무실에서 문서를 받은 시간을 기록하기 위해 현재 날짜 or 시간을 기록하기 위해 사용하는 고무 스탬프에서 파생되었다.</p>
</li>
<li>
<p>타임스탬프는 특정 이벤트가 발생한 시간을 식별하는 일련의 문자 또는 인코딩된 정보이다.</p>
</li>
<li>
<p>일반적으로 날짜와 시간을 제공하며 때로는 아주 작은 단위까지도 나타낸다.</p>
</li>
<li>
<p>보통 TimeStamp 보단 Timestamp 이렇게 쓰이는 것 같다.</p>
</li>
<li>
<p>Unix (POSIX) timestamp는 Unix time 참고</p>
</li>
<li>
<p>번외로, DB에서 TIMESTAMP 타입은 <a href="https://ko.wikipedia.org/wiki/2038%EB%85%84_%EB%AC%B8%EC%A0%9C">Y2K38</a> 문제가 있다. (기타 <a href="https://ko.wikipedia.org/wiki/2000%EB%85%84_%EB%AC%B8%EC%A0%9C">Y2K</a>)</p>
</li>
<li>
<p>유틸성 페이지</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.unixtimestamp.com/" class="bare">https://www.unixtimestamp.com/</a></p>
</li>
<li>
<p><a href="https://www.epochconverter.com/" class="bare">https://www.epochconverter.com/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_unix_time">Unix time</h3>
<div class="ulist">
<ul>
<li>
<p>특정 시점(point in time, timestamp)를 설명하는 시스템이다.</p>
</li>
<li>
<p>윤초를 제외한 Unix epoch 이후 경과된 초(second)를 나타낸다.</p>
<div class="ulist">
<ul>
<li>
<p>Unix epoch: 1970년 1월 1일 00:00:00 UTC</p>
</li>
</ul>
</div>
</li>
<li>
<p>여러 이름으로 사용된다.</p>
<div class="ulist">
<ul>
<li>
<p>Epoch time, Posix time, seconds since the Epoch, Unix timestamp, UNIX Epoch time</p>
</li>
<li>
<p>posix는 unix os를 기반으로 둔 os interface여서 같은 의미로 사용된다.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Unix time은 UTC의 진정한 표현이 아니다. 윤초와 윤초 앞의 초는 동일한 Unix time을 갖기 때문이다.</p>
<div class="ulist">
<ul>
<li>
<p>Unix time의 하루는 정확히 86400초를포함한다. 양수/음수의 운초의 결과를 하루에 포함하거나 제외하지 않는다.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kotlin">Kotlin</h3>
<div class="ulist">
<ul>
<li>
<p>ISO 8601을 기반으로 하는 kotlin muliplatform library로는 <a href="https://github.com/Kotlin/kotlinx-datetime">kotlinx-datetime</a>이 있다.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_etc">ETC</h3>
<div class="ulist">
<ul>
<li>
<p>jdk8, 11, 17의 <code>Instant.now()</code> 차이</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">// jdk 1.8.0_66
2022-08-22T06:02:36.473Z

// jdk 10.0.1
2022-08-22T06:04:23.142454Z

// jdk 11.0.4
2022-08-22T06:04:34.116949Z

// jdk 17.0.1
2022-08-22T06:04:48.256750828Z</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>이걸 통해 확인해야할 점: DB 엔티티와 값 비교시 생성한 객체와 조회한 객체의 equals 비교에 문제가 발생할 수 있음</p>
<div class="ulist">
<ul>
<li>
<p>MySQL DATETIME에서 fractional seconds part 는 0~6 지원</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<details><summary>참고 링크</summary>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.timeanddate.com/time/time-zones.html">What is a Time Zone?</a></p>
</li>
<li>
<p><a href="https://www.timeanddate.com/time/utc-abbreviation.html">Why is it Called UTC - not CUT?</a></p>
</li>
<li>
<p><a href="https://www.timeanddate.com/time/dst/">Daylight Saving Time - DST - Summer Time</a></p>
</li>
<li>
<p><a href="https://www.timeanddate.com/time/dst/summer-time.html">Summer Time Is Daylight Saving Time</a></p>
</li>
<li>
<p><a href="https://www.timeanddate.com/time/gmt-utc-time.html">The Difference Between GMT and UTC</a></p>
</li>
<li>
<p><a href="https://ko.wikipedia.org/wiki/시간대">위키피디아 - 시간대</a></p>
</li>
<li>
<p><a href="https://greenwichmeantime.com/what-is-gmt/">What is Greenwich Mean Time (GMT)?</a></p>
</li>
<li>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html">Java Docs - Class ZoneId</a></p>
</li>
<li>
<p><a href="http://d2.naver.com/helloworld/645609">Java의 날짜와 시간 API - Naver D2</a></p>
</li>
<li>
<p><a href="https://www.mkyong.com/java/java-convert-date-and-time-between-timezone/">Java 8 이전 버전에서 시간 다루기</a></p>
</li>
<li>
<p><a href="http://meetup.toast.com/posts/125">자바스크립트에서 타임존 다루기 (1) - Toast</a></p>
</li>
<li>
<p><a href="https://javarevisited.blogspot.com/2015/03/20-examples-of-date-and-time-api-from-Java8.html">Java 8 Date Time - 20 Examples of LocalDate, LocalTime, LocalDateTime</a></p>
</li>
<li>
<p><a href="https://jekalmin.tistory.com/entry/%EC%9E%90%EB%B0%94-18-%EB%82%A0%EC%A7%9C-%EC%A0%95%EB%A6%AC">Java 1.8 날짜 정리</a></p>
</li>
<li>
<p><a href="https://stackoverflow.com/tags/timezone/info" class="bare">https://stackoverflow.com/tags/timezone/info</a></p>
</li>
</ul>
</div>
</details>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-10-23 08:05:20 UTC
</div>
</div>
</body>
</html>