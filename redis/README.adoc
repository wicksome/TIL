= Redis
:toc:

== client

[source, bash]
----
$ brew install redis
$ redis-cli -h $host -p $port
> config get *
----

> https://github.com/luin/medis

[source, bash]
----
git clone https://github.com/luin/medis.git
cd medis
npm install
npm run pack
node bin/pack.js
cd dist/out/Medis-mas-x64/
open .
----

== 자료구조

=== String

[source]
----
> set hello world
OK
> get hello
"world"
> exists hello
(integer) 1
> del hello
(integer) 1
> exists hello
(integer) 0
----

[source]
----
> set counter 100
OK
> get counter
"100"
> incr counter
(integer) 101
> incr counter
(integer) 102
> incrby counter 50
(integer) 152
----

[source]
----
> incr count
1
> getset count 0
"1"
> get count
"0"
> del count
(integer) 1
> get count
(nil)
----

=== List

* linked list
* pub-sub 패턴으로 활용

[source, bash]
----

----

=== Hash

[source, bash]
----
> hmget user2 email country
1) "id@domain.com"
2) "Korea"
----

=== Set

=== Sorted Set

== key naming

* https://keichee.tistory.com/248
* https://stackoverflow.com/questions/6965451/redis-key-naming-conventions
* https://stackoverflow.com/questions/30271808/naming-convention-and-valid-characters-for-a-redis-key/30271837
* max size: 512 MB

[source]
---
object-type#id:data
partner:user#123:name
partner:merchant#123:bno
partner:merchant#123
merchant#121231:base-url
users // <1>
---
<1> `users`에 user 키를 모두 저장하는 list 혹은 set 
